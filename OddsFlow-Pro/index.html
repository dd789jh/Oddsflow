<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OddsFlow AI - æ™ºèƒ½è¶³çƒäº¤æ˜“ç»ˆç«¯</title>
    
    <meta name="description" content="OddsFlow AI - å®æ—¶è¶³çƒèµ”ç‡ç›‘æ§ä¸è‹±è¶…å¤§æ•°æ®åˆ†æã€‚">
    <meta property="og:site_name" content="OddsFlow AI">
    
    <!-- æ ¸å¿ƒ SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #050505; color: #e5e7eb; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }
        
        /* ç»ç’ƒæ‹Ÿæ€å¡ç‰‡ */
        .bg-glass { 
            background: rgba(20, 20, 20, 0.4); 
            backdrop-filter: blur(20px); 
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08); 
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        
        /* èƒŒæ™¯é›¾åŒ–æ•ˆæœ */
        .hero-bg {
            background-image: url('https://images.unsplash.com/photo-1518091043644-c1d4457512c6?q=80&w=2831&auto=format&fit=crop'); 
            background-size: cover;
            background-position: center;
        }
        
        /* åŠ¨ç”» */
        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
        .ticker-wrap { overflow: hidden; white-space: nowrap; }
        .ticker-content { display: inline-block; animation: scroll 40s linear infinite; }
        
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-15px); } }
        .animate-float { animation: float 6s ease-in-out infinite; }
        .animate-float-delay { animation: float 7s ease-in-out infinite 1.5s; }
        
        /* çŠ¶æ€è‰² */
        .pressure-bar { transition: width 1s ease-in-out; }
        .page-section { display: none; opacity: 0; transition: opacity 0.3s ease-in-out; }
        .page-section.active { display: block; opacity: 1; }
    </style>
</head>
<body class="antialiased h-screen flex flex-col overflow-hidden">

    <!-- 1. è·‘é©¬ç¯ (åŠé€æ˜èƒŒæ™¯) -->
    <div class="bg-black/80 border-b border-white/5 h-8 flex items-center overflow-hidden shrink-0 z-50 backdrop-blur-sm">
        <div class="ticker-wrap">
            <div class="ticker-content text-xs font-mono flex gap-8 text-emerald-400">
                <span>ğŸš€ SIGNAL: Live Pressure Spike Detected</span>
                <span>ğŸ† EPL: Chelsea vs Burnley Analysis Ready</span>
                <span>ğŸ’° VALUE: High Confidence Bets Generated</span>
                <span>ğŸš¨ ALERT: Dropping Odds in Asian Market</span>
                <span>ğŸš€ SIGNAL: Live Pressure Spike Detected</span>
                <span>ğŸ† EPL: Chelsea vs Burnley Analysis Ready</span>
                <span>ğŸ’° VALUE: High Confidence Bets Generated</span>
                <span>ğŸš¨ ALERT: Dropping Odds in Asian Market</span>
            </div>
        </div>
    </div>

    <!-- 2. å¯¼èˆªæ  -->
    <nav class="w-full h-16 border-b border-white/5 bg-black/50 backdrop-blur-md flex items-center justify-between px-6 z-50 shrink-0 absolute top-8 w-full">
        <div class="flex items-center gap-2 cursor-pointer" onclick="location.reload()">
            <div class="w-8 h-8 bg-gradient-to-br from-emerald-500 to-blue-600 rounded-lg flex items-center justify-center text-black font-bold shadow-[0_0_15px_rgba(16,185,129,0.4)]"><i class="fas fa-bolt"></i></div>
            <span class="font-bold text-xl tracking-tight text-white">OddsFlow<span class="text-emerald-500">.ai</span></span>
        </div>
        <div class="hidden md:flex items-center gap-6 text-sm font-medium text-gray-300">
            <button onclick="switchTab('home')" class="hover:text-white transition nav-btn text-white" data-target="home">é¦–é¡µ</button>
            <button onclick="switchTab('dashboard')" class="hover:text-white transition nav-btn" data-target="dashboard">å®æ—¶ç»ˆç«¯</button>
            <button onclick="switchTab('epl')" class="hover:text-white transition nav-btn text-purple-400 font-bold" data-target="epl"><i class="fas fa-shield-alt mr-1"></i>è‹±è¶…èµ›ç¨‹</button>
            <button onclick="switchTab('guide')" class="hover:text-white transition nav-btn" data-target="guide">æ•™ç¨‹</button>
            <button onclick="switchTab('pricing')" class="hover:text-white transition nav-btn" data-target="pricing">ä»·æ ¼</button>
        </div>
        <div class="flex items-center gap-4">
            <a href="https://t.me/footballscbet_bot" target="_blank" class="bg-white text-black hover:bg-gray-200 px-4 py-2 rounded-full font-bold text-xs transition shadow-lg flex items-center gap-2"><i class="fab fa-telegram-plane"></i> åŠ å…¥ç”µæŠ¥ç¾¤</a>
        </div>
    </nav>

    <!-- ä¸»å†…å®¹åŒº -->
    <main class="flex-1 overflow-y-auto relative w-full h-full" id="main-content">
        
        <!-- =========================================
             ğŸ”¥ é¦–é¡µ (ç”µå½±çº§è§†è§‰é‡æ„)
        ========================================== -->
        <section id="home" class="page-section active min-h-full relative flex items-center justify-center overflow-hidden">
            
            <!-- A. èƒŒæ™¯å±‚ (çƒåœºå›¾ + é›¾åŒ–) -->
            <div class="absolute inset-0 hero-bg"></div>
            <!-- B. é®ç½©å±‚ (è®©æ–‡å­—æ¸…æ™°) -->
            <div class="absolute inset-0 bg-gradient-to-b from-black/70 via-black/80 to-[#050505]"></div>
            <div class="absolute inset-0 bg-black/40 backdrop-blur-[2px]"></div>

            <!-- C. å†…å®¹å±‚ -->
            <div class="max-w-7xl mx-auto px-6 relative z-10 w-full pt-20">
                
                <!-- æ‚¬æµ®å…ƒç´  (å¢åŠ å±‚æ¬¡æ„Ÿ) -->
                <div class="hidden lg:block absolute -top-20 left-0 animate-float">
                    <div class="bg-glass p-4 rounded-xl border-l-4 border-emerald-500 w-64">
                        <div class="flex justify-between text-[10px] text-gray-400 mb-2"><span>Live Signal</span><span class="text-emerald-400">Just Now</span></div>
                        <div class="font-bold text-white text-sm mb-1">Man Utd vs Chelsea</div>
                        <div class="text-[10px] text-gray-300">Pressure Gauge: <span class="text-red-500 font-bold">92% (CRITICAL)</span></div>
                    </div>
                </div>
                
                <div class="hidden lg:block absolute top-40 right-0 animate-float-delay">
                    <div class="bg-glass p-4 rounded-xl border-l-4 border-blue-500 w-64">
                        <div class="flex justify-between text-[10px] text-gray-400 mb-2"><span>Value Bet</span><span class="text-blue-400">+15% Edge</span></div>
                        <div class="font-bold text-white text-sm mb-1">Real Madrid Win</div>
                        <div class="text-[10px] text-gray-300">Confidence: <span class="text-white font-bold">High</span></div>
                    </div>
                </div>

                <div class="text-center">
                    <!-- æ ‡ç­¾ -->
                    <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/5 border border-white/10 text-emerald-400 text-xs font-bold mb-8 backdrop-blur-md">
                        <span class="relative flex h-2 w-2"><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span><span class="relative inline-flex rounded-full h-2 w-2 bg-emerald-500"></span></span>
                        å…¨ç½‘é¦–ä¸ª N8N é©±åŠ¨çš„äº¤æ˜“æ‰«æä»ª
                    </div>
                    
                    <!-- ğŸ”¥ æ–°å£å· (æ›´éœ¸æ°”ï¼Œæ— åˆ’çº¿) -->
                    <h1 class="text-6xl md:text-8xl font-black mb-6 leading-tight tracking-tight text-white drop-shadow-2xl">
                        æ‹’ç»ç›²èµŒã€‚<br>
                        <span class="bg-clip-text text-transparent bg-gradient-to-r from-emerald-400 via-cyan-400 to-blue-500">æ•°æ®ä¸ºç‹ã€‚</span>
                    </h1>
                    
                    <p class="text-lg md:text-xl text-gray-300 max-w-2xl mx-auto mb-12 leading-relaxed font-light">
                        OddsFlow å®æ—¶ç›‘æ§å…¨çƒ <span class="text-white font-bold">500+</span> åœºæ¯”èµ›ã€‚
                        å½“å‹åŠ›æŒ‡æ•°çˆ†è¡¨æˆ–èµ”ç‡å‡ºç°æ¼æ´æ—¶ï¼ŒAI å°†åœ¨è¿›çƒå‰ 2 åˆ†é’Ÿç›´æ¥æ¨é€åˆ°ä½ çš„æ‰‹æœºã€‚
                    </p>
                    
                    <!-- æŒ‰é’®ç»„ -->
                    <div class="flex flex-col sm:flex-row justify-center gap-5">
                        <button onclick="switchTab('dashboard')" class="group px-8 py-4 bg-white text-black font-bold rounded-xl hover:bg-emerald-400 transition shadow-[0_0_40px_rgba(255,255,255,0.2)] flex items-center justify-center gap-2">
                            <i class="fas fa-chart-line"></i> è¿›å…¥å®æ—¶ç»ˆç«¯
                        </button>
                        <button onclick="switchTab('epl')" class="group px-8 py-4 bg-white/5 text-white border border-white/20 rounded-xl hover:bg-white/10 hover:border-purple-500 hover:text-purple-400 transition font-bold flex items-center justify-center gap-2 backdrop-blur-md">
                            <i class="fas fa-shield-alt"></i> è‹±è¶…èµ›ç¨‹
                        </button>
                    </div>
                </div>

                <!-- æ•°æ®ç»Ÿè®¡ (åº•éƒ¨) -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-32 border-t border-white/10 pt-12 opacity-80">
                    <div class="text-center"><div class="text-4xl font-black text-white mb-1">500+</div><div class="text-[10px] text-gray-400 uppercase tracking-widest">Matches Daily</div></div>
                    <div class="text-center"><div class="text-4xl font-black text-emerald-400 mb-1">~2s</div><div class="text-[10px] text-gray-400 uppercase tracking-widest">Data Latency</div></div>
                    <div class="text-center"><div class="text-4xl font-black text-blue-400 mb-1">78%</div><div class="text-[10px] text-gray-400 uppercase tracking-widest">AI Accuracy</div></div>
                    <div class="text-center"><div class="text-4xl font-black text-purple-400 mb-1">24/7</div><div class="text-[10px] text-gray-400 uppercase tracking-widest">Automated</div></div>
                </div>
            </div>
        </section>

        <!-- å®æ—¶ç»ˆç«¯ (Dashboard) -->
        <section id="dashboard" class="page-section pt-20">
            <div class="text-center py-8">
                <h1 class="text-2xl font-bold mb-2">å®æ—¶ç›‘æ§ç»ˆç«¯ (Live)</h1>
                <p class="text-xs text-gray-500">ç‚¹å‡»å¡ç‰‡æŸ¥çœ‹æ·±åº¦åˆ†æ</p>
            </div>
            <div class="max-w-3xl mx-auto space-y-4 px-4" id="match-container">
                <div class="text-center py-10 text-gray-500 animate-pulse">æ­£åœ¨è¿æ¥ AI å«æ˜Ÿä¿¡å·...</div>
            </div>
        </section>

        <!-- è‹±è¶…å‰ç» (EPL) -->
        <section id="epl" class="page-section pt-20">
            <div class="text-center py-8">
                <h1 class="text-2xl font-bold mb-2 text-purple-400">è‹±è¶…èµ›äº‹å‰ç»</h1>
                <p class="text-xs text-gray-500">Upcoming Premier League Analysis</p>
            </div>
            <div class="max-w-3xl mx-auto grid gap-4 px-4" id="epl-container">
                <div class="text-center py-10 text-gray-500 animate-pulse">æ­£åœ¨åŠ è½½è‹±è¶…èµ›ç¨‹...</div>
            </div>
        </section>

        <!-- æ•™ç¨‹ & ä»·æ ¼ -->
        <section id="guide" class="page-section pt-20">
            <div class="max-w-4xl mx-auto px-6 py-12 text-center">
                <h1 class="text-3xl font-bold mb-8">å¦‚ä½•è·åˆ©ï¼Ÿ</h1>
                <p class="text-gray-400">å…³æ³¨å‹åŠ›æ¡ > 80% çš„æ¯”èµ›ï¼Œç»“åˆ AI å»ºè®®å…¥åœºã€‚</p>
            </div>
        </section>
        
        <section id="pricing" class="page-section pt-20">
            <div class="max-w-4xl mx-auto px-6 py-12 text-center">
                <h1 class="text-3xl font-bold mb-8">è®¢é˜…ä»·æ ¼</h1>
                <div class="bg-gradient-to-b from-gray-800 to-black border border-emerald-500 p-8 rounded-3xl max-w-sm mx-auto">
                    <h3 class="text-xl font-bold text-emerald-400 mb-2">PRO æ“ç›˜æ‰‹</h3>
                    <div class="text-5xl font-bold text-white mb-2">RM 68<span class="text-lg text-gray-500">/æœˆ</span></div>
                    <a href="https://t.me/footballscbet_bot" target="_blank" class="block w-full py-4 bg-emerald-600 hover:bg-emerald-500 text-white rounded-xl font-bold mt-6">ç«‹å³è®¢é˜…</a>
                </div>
            </div>
        </section>

    </main>

    <!-- é€šç”¨å¼¹çª— -->
    <div id="match-modal" class="fixed inset-0 z-[100] hidden">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="closeModal()"></div>
        <div class="absolute inset-x-0 bottom-0 md:inset-0 md:flex md:items-center md:justify-center pointer-events-none">
            <div class="bg-[#0f0f0f] md:rounded-2xl md:max-w-2xl w-full p-6 border border-gray-800 shadow-2xl pointer-events-auto" id="modal-panel">
                <div id="modal-content"></div>
                <button onclick="closeModal()" class="mt-6 w-full bg-gray-800 text-white py-3 rounded-xl font-bold hover:bg-gray-700">å…³é—­çª—å£</button>
            </div>
        </div>
    </div>

    <!-- ğŸš€ æ ¸å¿ƒå¼•æ“ -->
    <script>
        // 1. ä¼˜å…ˆå®šä¹‰é¡µé¢åˆ‡æ¢
        function switchTab(tabId){
            document.querySelectorAll('.page-section').forEach(el=>{ el.classList.remove('active'); setTimeout(()=>{if(!el.classList.contains('active'))el.style.display='none';},300); });
            const target=document.getElementById(tabId);
            if(target) { target.style.display='block'; setTimeout(()=>target.classList.add('active'),10); }
            
            document.querySelectorAll('.nav-btn').forEach(btn=>{
                btn.classList.remove('text-white', 'text-purple-400'); 
                btn.classList.add('text-gray-400');
                if(btn.getAttribute('data-target') === tabId) { 
                    btn.classList.add('text-white'); 
                    if(tabId === 'epl') btn.classList.add('text-purple-400');
                    btn.classList.remove('text-gray-400'); 
                }
            });

            if(tabId === 'dashboard') fetchLiveMatches();
            if(tabId === 'epl') fetchEPL();
        }

        function closeModal() { document.getElementById('match-modal').classList.add('hidden'); }

        // 2. æ•°æ®å±‚
        let supabase = null;
        let liveData = [];
        let eplData = [];

        try {
            const SUPABASE_URL = 'https://ncubbsgzebbmoqslyukd.supabase.co';
            const SUPABASE_KEY = 'sb_publishable_sVNMF9y0NlYxSqjqKqwySw_b1DJyEdg';
            supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
        } catch (e) {
            console.error("Supabase Init Failed:", e);
        }

        const adsData = [
            { type: "ad", content: { brand: "ğŸ‘‘ å®˜æ–¹æ¨è: GSlot16", title: "å…¨ç½‘æœ€ç¨³è€è™æœº/çœŸäººè§†è®¯å¹³å°", desc: "å¤§é¢æ— å¿§ï¼Œç§’å……ç§’æã€‚", btn_text: "è¿›å…¥ GSlot16 å®˜ç½‘", link: "https://gslot16.com?ag=RS-c2VzYW1lcmFiYml0" } },
            { type: "ad", content: { brand: "âš½ BK8 äºšæ´²ç¬¬ä¸€ä½“è‚²", title: "OddsFlow ç‹¬å®¶åˆä½œä¼™ä¼´", desc: "è‹±è¶…å®˜æ–¹èµåŠ©å•†ã€‚ä½“è‚²èµ›äº‹èµ”ç‡æœ€é«˜ã€‚", btn_text: "é¢†å– BK8 çº¢åˆ©", link: "https://www.bk8.com/" } }
        ];

        // 3. æŠ“å–å®æ—¶æ¯”èµ› (Live)
        async function fetchLiveMatches() {
            if(!supabase) return;
            const container = document.getElementById('match-container');
            try {
                const { data, error } = await supabase.from('live_signals').select('*').order('created_at', { ascending: false }).limit(20);
                if(error) throw error;
                
                liveData = [];
                if(data && data.length > 0) {
                    data.forEach((m, i) => {
                        liveData.push({ type: 'match', result: m });
                        if(i===0) liveData.push(adsData[0]);
                        if(i===2) liveData.push(adsData[1]);
                    });
                    renderLiveList();
                } else {
                    container.innerHTML = '<div class="text-center text-gray-500 py-10">AI æ­£åœ¨æ‰«æä¸­ï¼Œæš‚æ— é«˜é£é™©æ¯”èµ›...</div>';
                }
            } catch(e) { console.error(e); container.innerHTML = '<div class="text-center text-gray-500">æ•°æ®è¿æ¥ä¸­...</div>'; }
        }

        // 4. æŠ“å–è‹±è¶… (EPL)
        async function fetchEPL() {
            if(!supabase) return;
            const container = document.getElementById('epl-container');
            try {
                const { data, error } = await supabase.from('upcoming_epl').select('*').order('created_at', { ascending: false });
                
                if(data && data.length > 0) {
                    eplData = data;
                } else {
                    // æ¼”ç¤ºæ•°æ® (ä¿è¯æœ‰ä¸œè¥¿çœ‹)
                    eplData = [
                        {
                            start_date: "2025-11-22T12:30:00Z",
                            home_team: "Burnley FC", away_team: "Chelsea FC", venue: "Turf Moor",
                            home_logo: "https://cdn.opticodds.com/team-logos/soccer/3763.png",
                            away_logo: "https://cdn.opticodds.com/team-logos/soccer/4009.png",
                            win_prob_home: 14, win_prob_draw: 21, win_prob_away: 65,
                            standings_json: [{ rank: 3, team: "Chelsea", p: 20, form: "WWLWW" }, { rank: 19, team: "Burnley", p: 5, form: "LLDLL" }]
                        }
                    ];
                }
                renderEPLList();
            } catch(e) { console.error(e); }
        }

        // --- æ¸²æŸ“å‡½æ•° ---

        function renderLiveList() {
            const container = document.getElementById('match-container');
            let html = '';
            liveData.forEach((item, index) => {
                if(item.type === 'ad') {
                    html += `<div class="bg-gradient-to-r from-yellow-900/40 to-black p-5 rounded-xl border border-yellow-500/50 mb-4"><div class="text-yellow-400 font-bold text-sm mb-1">${item.content.brand}</div><h3 class="text-white font-bold text-lg mb-2">${item.content.title}</h3><a href="${item.content.link}" target="_blank" class="block text-center bg-yellow-500 text-black font-bold py-2 rounded-lg text-sm">${item.content.btn_text}</a></div>`;
                    return;
                }
                const m = item.result;
                const pVal = parseInt(m.pressure_val) || 50;
                html += `<div onclick="openLiveModal(${index})" class="bg-glass p-5 rounded-xl border-l-4 border-emerald-500 cursor-pointer hover:bg-gray-800/80 transition mb-4"><div class="flex justify-between text-xs text-gray-400 mb-4"><span>${m.league || 'Live'} â€¢ ${m.time || 'Live'}</span><span class="text-emerald-400 font-mono">Strong Signal</span></div><div class="flex justify-between items-center mb-4"><span class="text-lg font-bold w-1/3 text-right truncate">${m.home_team}</span><span class="px-3 py-1 bg-black/50 rounded text-white font-mono">${m.score || '0-0'}</span><span class="text-lg font-bold w-1/3 text-left truncate">${m.away_team}</span></div><div class="h-2 bg-gray-800 rounded-full overflow-hidden flex shadow-inner mb-2"><div style="width: ${pVal}%" class="h-full bg-blue-600"></div><div style="width: ${100-pVal}%" class="h-full bg-red-600"></div></div><div class="text-center text-xs text-gray-500">AI: ${m.recommendation ? m.recommendation.substring(0,20) : 'åˆ†æä¸­...'}...</div></div>`;
            });
            container.innerHTML = html;
        }

        function renderEPLList() {
            const container = document.getElementById('epl-container');
            let html = '';
            eplData.forEach((m, index) => {
                const date = new Date(m.start_date);
                const timeStr = date.toLocaleString('zh-CN', { month: 'numeric', day: 'numeric', hour: '2-digit', minute: '2-digit' });
                html += `<div onclick="openEPLModal(${index})" class="bg-[#1a1a1a] p-6 rounded-xl border border-purple-900/30 relative overflow-hidden cursor-pointer hover:border-purple-500 transition group"><div class="absolute top-0 left-0 bg-purple-600 text-white text-[10px] px-2 py-1 rounded-br-lg">EPL PREVIEW</div><div class="absolute top-2 right-2 text-gray-600 group-hover:text-purple-400"><i class="fas fa-chart-bar"></i> åˆ†æ</div><div class="text-center text-xs text-gray-500 mb-4">${timeStr} â€¢ ${m.venue}</div><div class="flex justify-between items-center"><div class="text-center w-1/3"><img src="${m.home_logo}" class="w-12 h-12 mx-auto mb-2 drop-shadow-lg"><div class="font-bold text-white text-sm">${m.home_team}</div></div><div class="text-2xl font-bold text-gray-700 font-mono">VS</div><div class="text-center w-1/3"><img src="${m.away_logo}" class="w-12 h-12 mx-auto mb-2 drop-shadow-lg"><div class="font-bold text-white text-sm">${m.away_team}</div></div></div></div>`;
            });
            container.innerHTML = html;
        }

        function openLiveModal(i) {
            const m = liveData[i].result;
            const pVal = parseInt(m.pressure_val) || 50;
            const content = `<div class="bg-gradient-to-r from-emerald-900/20 to-black p-4 rounded-xl border border-emerald-500/30 mb-6"><h4 class="text-emerald-400 font-bold text-sm mb-2"><i class="fas fa-robot"></i> AI æ·±åº¦åˆ†æ</h4><p class="text-gray-300 text-sm leading-relaxed">${m.recommendation || 'æ­£åœ¨è®¡ç®—å®æ—¶èµ”ç‡ä»·å€¼...'}</p></div><div class="grid grid-cols-2 gap-4 mb-6"><div class="bg-gray-800 p-3 rounded text-center"><div class="text-xs text-gray-500">ä¸»é˜Ÿå‹åŠ›æŒ‡æ•°</div><div class="text-xl font-bold text-blue-400">${pVal}</div></div><div class="bg-gray-800 p-3 rounded text-center"><div class="text-xs text-gray-500">æ¯”èµ›æ—¶é—´</div><div class="text-xl font-bold text-white">${m.time || 'Live'}</div></div></div>`;
            document.getElementById('modal-content').innerHTML = content;
            document.getElementById('match-modal').classList.remove('hidden');
        }

        function openEPLModal(i) {
            const m = eplData[i];
            const prob = { home: m.win_prob_home || 33, draw: m.win_prob_draw || 33, away: m.win_prob_away || 34 };
            let standings = [];
            try { standings = typeof m.standings_json === 'string' ? JSON.parse(m.standings_json) : m.standings_json; } catch(e){ standings = []; }
            if(!standings) standings = [];

            const content = `
                <div class="flex justify-between items-center mb-8 px-4"><div class="text-center"><img src="${m.home_logo}" class="w-16 h-16 mx-auto mb-2"><h3 class="text-lg font-bold text-white">${m.home_team}</h3></div><div class="text-center"><div class="text-xs text-gray-500 uppercase tracking-widest">Win Probability</div><div class="text-3xl font-black text-white italic">VS</div></div><div class="text-center"><img src="${m.away_logo}" class="w-16 h-16 mx-auto mb-2"><h3 class="text-lg font-bold text-white">${m.away_team}</h3></div></div>
                <div class="mb-8 bg-gray-900 p-4 rounded-xl border border-gray-800"><div class="flex justify-between text-xs text-gray-400 mb-2"><span class="text-red-500 font-bold">${prob.home}%</span><span>Draw ${prob.draw}%</span><span class="text-blue-500 font-bold">${prob.away}%</span></div><div class="flex h-3 rounded-full overflow-hidden"><div style="width: ${prob.home}%" class="bg-red-600 h-full"></div><div style="width: ${prob.draw}%" class="bg-gray-600 h-full"></div><div style="width: ${prob.away}%" class="bg-blue-600 h-full"></div></div></div>
                <div class="mb-4"><h4 class="text-white font-bold text-sm mb-3 border-l-2 border-purple-500 pl-2">LIVE STANDINGS</h4><div class="overflow-x-auto"><table class="w-full text-xs text-left text-gray-400"><thead class="text-xs text-gray-500 uppercase bg-gray-800/50"><tr><th class="px-2 py-2">#</th><th class="px-2 py-2">Team</th><th class="px-2 py-2">Pts</th><th class="px-2 py-2">Form</th></tr></thead><tbody class="divide-y divide-gray-800">
                ${standings.map(row => `<tr class="${row.team === m.home_team || row.team === m.away_team ? 'bg-white/5' : ''}"><td class="px-2 py-3 font-mono">${row.rank}</td><td class="px-2 py-3 font-bold text-white">${row.team}</td><td class="px-2 py-3 font-bold text-white">${row.p || row.pts}</td><td class="px-2 py-3"><div class="flex gap-1">${(row.form || "?????").split('').map(r => `<span class="w-4 h-4 flex items-center justify-center rounded-full text-[8px] text-white ${r==='W'?'bg-green-500':(r==='L'?'bg-red-500':'bg-gray-500')}">${r}</span>`).join('')}</div></td></tr>`).join('')}
                </tbody></table></div></div>
            `;
            document.getElementById('modal-content').innerHTML = content;
            document.getElementById('match-modal').classList.remove('hidden');
        }

        function toggleLanguage() {} // ç®€åŒ–å±•ç¤º

        // åˆå§‹åŒ–
        switchTab('home');
    </script>
</body>
</html>
